---
- name: Install base packages (host)
  when: is_host_install
  community.general.pkgng:
    name:
      - sysutils/beadm
      - sysutils/checkrestart
      - sysutils/lsblk
    state: present

- name: Install base packages (bare metal)
  when: is_host_install and not platform_is_cloud
  community.general.pkgng:
    name:
      - sysutils/smartmontools
    state: present

- name: Remove unnecessary packages (cloud)
  when: is_host_install and platform_is_cloud
  community.general.pkgng:
    name:
      - sysutils/smartmontools
    state: absent

- name: Remove base packages (common)
  community.general.pkgng:
    name:
      - textproc/yq
    state: absent

- name: Install base packages (common)
  community.general.pkgng:
    # Synchronize with 33c82d0f-f01e-4032-b489-3ecdad22ca16
    name:
      # required
      - devel/git
      - security/ca_root_nss
      - shells/zsh
      - sysutils/pv
      - textproc/fzf
      - textproc/go-yq
      - textproc/jq
      - textproc/py-pyaml

      # optional
      - archivers/zip
      - devel/bsddialog
      - devel/gum
      - editors/bvi
      - editors/nano
      - editors/vim
      - ftp/curl
      - ftp/lftp
      - misc/buffer
      - misc/gnu-watch
      - misc/mbuffer
      - misc/mc
      - misc/retry
      - net/croc
      - net/rsync
      - net/socat
      - sysutils/clone
      - sysutils/cpdup
      - sysutils/filemon
      - sysutils/htop
      - sysutils/lsblk
      - sysutils/ncdu
      - sysutils/renameutils
      - sysutils/smenu
      - sysutils/spiped
      - sysutils/tmux
      - sysutils/ts

      # uncategorized
      - misc/inplace
      - security/gnupg
      - shells/bash
      - sysutils/direnv
      - sysutils/monit
      - sysutils/runit
      - textproc/align
      - textproc/the_silver_searcher
    state: present
